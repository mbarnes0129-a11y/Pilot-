*{box-sizing:border-box}html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:#eef2f7;color:#0d1b2a}
header{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;background:#dde7f2;position:sticky;top:0;z-index:5;border-bottom:1px solid #cfd8e3;color:#0d1b2a}
.brand{font-weight:700;letter-spacing:.3px}
.actions{display:flex;gap:8px;flex-wrap:wrap}
button,.import{background:#f3f7fb;color:#0d1b2a;border:1px solid #cfd8e3;border-radius:10px;padding:8px 10px;cursor:pointer}
button.primary{background:#4c6fff;border-color:#4c6fff;color:#fff}
button:hover,.import:hover{filter:brightness(1.03)}
.import{display:inline-flex;align-items:center;gap:6px}
.grid{display:grid;grid-template-columns:1.2fr 1fr 1fr;gap:14px;padding:14px}
@media (max-width:1100px){.grid{grid-template-columns:1fr}}
.card{background:#ffffff;border:1px solid #e1e8f0;border-radius:16px;padding:14px}
.card h2{margin-top:2px}
.avatar .pet-wrap{display:flex;flex-direction:column;justify-content:center;align-items:center;height:280px;background:linear-gradient(180deg,#ffffff,#f3f7fb);border-radius:14px;border:1px solid #e1e8f0;position:relative;overflow:hidden}
#petImg{max-width:70%;max-height:200px;animation:float 3s ease-in-out infinite;image-rendering:auto}
@keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}
.hpbar.big{position:absolute;left:12px;right:12px;bottom:36px;height:14px;background:#edf2ff;border:1px solid #d4dcff;border-radius:10px;overflow:hidden}
.hpbar>div{height:100%;width:100%;background:linear-gradient(90deg,#69db7c,#51cf66)}
.hptext.small{position:absolute;bottom:12px;left:12px;font-size:.9rem;opacity:.9}
.stats{display:grid;grid-template-columns:1fr 2fr 1fr 1fr;gap:8px;margin-top:10px;align-items:center}
.stat{display:flex;gap:8px;align-items:center}
.stat span{opacity:.8}
.bar{height:10px;background:#f3f7fb;border:1px solid #e1e8f0;border-radius:8px;flex:1;overflow:hidden}
#xpBar{height:100%;width:0;background:linear-gradient(90deg,#00bfa6,#3b82f6,#8b5cf6);transition:width .4s}
.avatar-actions{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;flex-wrap:wrap;margin-top:10px}
.evo-label{margin-top:6px;opacity:.8}
.typechip{display:inline-block;background:#edf2ff;border:1px solid #cfd8e3;border-radius:999px;padding:2px 8px;font-size:.85rem;margin-left:6px}
.ip-note{opacity:.7;margin-top:6px;display:block}
.task-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.task{display:flex;gap:10px;align-items:center;background:#f8fbff;border:1px solid #e1e8f0;border-radius:12px;padding:8px 10px}
.task input[type=checkbox]{width:18px;height:18px}
.task .txt{flex:1}
.task .badge{font-size:.8rem;opacity:.9}
.task .del{background:#eef2f7}
.task-new{display:flex;gap:8px;margin-top:10px}
.task-new input{flex:1;padding:8px;border-radius:10px;border:1px solid #e1e8f0;background:#f8fbff;color:#0d1b2a}
.coach-text{min-height:80px;line-height:1.4;background:#f8fbff;border:1px solid #e1e8f0;border-radius:12px;padding:10px}
.coach-cta{display:flex;gap:8px;margin-top:8px}
.mini{position:fixed;right:10px;bottom:16px;width:260px;background:#ffffff;border:1px solid #e1e8f0;border-radius:14px;padding:10px;box-shadow:0 10px 24px rgba(13,27,42,.12)}
.hidden{display:none}
.mini-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.mini-name{font-weight:600}
.mini-xp{height:8px;background:#f3f7fb;border:1px solid #e1e8f0;border-radius:8px;overflow:hidden;margin:6px 0}
#miniXpBar{height:100%;width:0;background:linear-gradient(90deg,#00bfa6,#3b82f6,#8b5cf6)}
/* Battle (light) */
#battleDialog{max-width:860px;border:none;border-radius:16px;padding:0}
.battle-ui.light{padding:12px;background:#f6f8ff;border:1px solid #dfe7f3;border-radius:16px;color:#0d1b2a}
.battle-foes{display:grid;grid-template-columns:1fr auto 1fr;gap:12px;align-items:center}
.side .name{font-weight:700;margin-bottom:6px}
.hpbar{height:12px;background:#edf2ff;border:1px solid #d4dcff;border-radius:10px;overflow:hidden}
.hpbar>div{height:100%;width:100%;background:linear-gradient(90deg,#69db7c,#51cf66)}
.hptext{font-size:.9rem;opacity:.9;margin-top:4px}
.vs{opacity:.6;font-weight:700}
.battle-log{background:#ffffff;border:1px solid #e1e8f0;border-radius:12px;padding:8px;height:240px;overflow:auto;margin:10px 0;white-space:pre-wrap;line-height:1.35}
.battle-moves{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.battle-items{display:flex;gap:8px;align-items:center;margin-top:8px}
.ap{opacity:.9}
.battle-actions{display:flex;gap:8px;flex-wrap:wrap}
/* Store */
#storeDialog{max-width:720px;border:none;border-radius:16px;padding:0}
.store{padding:12px;background:#ffffff;border:1px solid #e1e8f0;border-radius:16px}
.store-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:8px}
.store-item{background:#f8fbff;border:1px solid #e1e8f0;border-radius:12px;padding:10px}
.store-item .row{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
.store-item button{background:#4c6fff;border:1px solid #4c6fff;border-radius:10px;padding:6px 10px;color:#fff}
